# ğŸ“š 8ì¥ ê¸°ë³¸ íƒ€ì…, ì»¬ë ‰ì…˜, ë°°ì—´

## ğŸ“– 8.1 ì›ì‹œ íƒ€ì…ê³¼ ê¸°ë³¸ íƒ€ì…

### ğŸ”– 8.1.1 ì •ìˆ˜, ë¶€ë™ì†Œìˆ˜ì  ìˆ˜, ë¬¸ì, ë¶ˆë¦¬ì–¸ ê°’ì„ ì›ì‹œ íƒ€ì…ìœ¼ë¡œ í‘œí˜„

```kotlin
val i: Int = 1
val list: List<Int> = listOf(1, 2, 3)
```

- ì½”í‹€ë¦°ì€ ì›ì‹œ íƒ€ì…ê³¼ ë˜í¼ íƒ€ì…ì„ êµ¬ë¶„í•˜ì§€ ì•ŠëŠ”ë‹¤.
- ë§¤ë²ˆ ê°ì²´ë¡œ í‘œí˜„í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ì‹¤í–‰ ì‹œì ì— ìˆ«ì íƒ€ì…ì€ ê°€ëŠ¥í•œ í•œ ê°€ì¥ íš¨ìœ¨ì ì¸ ë°©ì‹ìœ¼ë¡œ í‘œí˜„ëœë‹¤.

### ğŸ”– 8.1.2 ì–‘ìˆ˜ë¥¼ í‘œí˜„í•˜ê¸° ìœ„í•´ ëª¨ë“  ë¹„íŠ¸ ë²”ìœ„ ì‚¬ìš©: ë¶€í˜¸ ì—†ëŠ” ìˆ«ì íƒ€ì…

| íƒ€ì…     | ë¹„íŠ¸ í¬ê¸° | í‘œí˜„ ë²”ìœ„                      |
|----------|-----------|-------------------------------|
| `UByte`  | 8ë¹„íŠ¸     | 0 ~ 255                        |
| `UShort` | 16ë¹„íŠ¸    | 0 ~ 65,535                     |
| `UInt`   | 32ë¹„íŠ¸    | 0 ~ 4,294,967,295              |
| `ULong`  | 64ë¹„íŠ¸    | 0 ~ 18,446,744,073,709,551,615 |

- ì½”í‹€ë¦°ì—ëŠ” 4ê°€ì§€ ë¶€í˜¸ì—†ëŠ” íƒ€ì…ì´ ìˆë‹¤.
- ì¼ë°˜ì ì¸ ì›ì‹œ íƒ€ì…ì„ í™•ì¥í•´ ë¶€í˜¸ ì—†ëŠ” íƒ€ì…ì„ ì œê³µí•œë‹¤.

### ğŸ”– 8.1.3 ë„ì´ ë  ìˆ˜ ìˆëŠ” ê¸°ë³¸ íƒ€ì…: Int?, Boolean? ë“±

- null ì°¸ì¡°ë¥¼ ìë°”ì˜ ì°¸ì¡° íƒ€ì…ì˜ ë³€ìˆ˜ì—ë§Œ ëŒ€ì…í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ë„ì´ ë  ìˆ˜ ìˆëŠ” ì½”í‹€ë¦° íƒ€ì…ì€ ìë°” ì›ì‹œ íƒ€ì…ìœ¼ë¡œ í‘œí˜„í•  ìˆ˜ ì—†ë‹¤.

```kotlin
data class Person(val name: String, val age: Int? = null) {
    fun isOlderThan(other: Person): Boolean? {
        if (age == null || other.age == null) {
            return null
        }
        return age > other.age
    }
}
```

- ë‘ ê°’ì´ ë„ì´ ì•„ë‹Œì§€ ê²€ì‚¬í•´ì•¼ í•œë‹¤.
- ì»´íŒŒì¼ëŸ¬ëŠ” ë„ ê²€ì‚¬ë¥¼ ë§ˆì¹œ ë‹¤ìŒì—ì•¼ ë‘ ê°’ì„ ì¼ë°˜ì ì¸ ê°’ì²˜ëŸ¼ ë‹¤ë£¨ë„ë¡ í—ˆìš©í•œë‹¤.

### ğŸ”– 8.1.4 ìˆ˜ ë³€í™˜

- ì½”í‹€ë¦°ê³¼ ìë°”ì˜ ê°€ì¥ í° ì°¨ì´ì  ì¤‘ í•˜ë‚˜ëŠ” ìˆ˜ë¥¼ ë³€í™˜í•˜ëŠ” ë°©ì‹ì´ë‹¤.
- ì½”í‹€ë¦°ì€ í•œ íƒ€ì…ì˜ ìˆ˜ë¥¼ ë‹¤ë¥¸ íƒ€ì…ì˜ ìˆ˜ë¡œ ìë™ ë³€í™˜í•˜ì§€ ì•ŠëŠ”ë‹¤.

```kotlin
val i = 1
val i: Long = b.toLong() // ìë™ ë³€í™˜ X
```

- ëª¨ë“  ì›ì‹œ íƒ€ì…ì— ëŒ€í•´ ì–‘ë°©í–¥ ë³€í™˜ í•¨ìˆ˜ê°€ ëª¨ë‘ ì œê³µ

```kotlin
val x = 1
val list = listOf(1L, 2L, 3L)
x in list // false
```

- ì•”ì‹œì  ë³€í™˜ì„ í—ˆìš©í•˜ì§€ ì•ŠëŠ”ë‹¤.
- ìˆ«ì ë¦¬í„°ëŸ´ì„ ìƒìš”í•  ë•ŒëŠ” ë³€í™˜ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•  í•„ìš”ê°€ ì—†ë‹¤.
  - ex) 1L, 0.2f
  - ì»´íŒŒì¼ëŸ¬ê°€ í•„ìš”í•œ ë³€í™˜ì„ ìë™ìœ¼ë¡œ ë„£ì–´ì¤€ë‹¤.

```kotlin
fun main() {
    println(Int.MAX_VALUE + 1)
    // ìŒìˆ˜ ìµœì†Ÿê°’
    
    println(Int.MIN_VALUE - 1)
    // ì–‘ìˆ˜ ìµœëŒ“ê°’
}
```

- ì½”í‹€ë¦° ì‚°ìˆ  ì—°ì‚°ìì—ì„œë„ ìˆ«ì ì—°ì‚° ì‹œ ì˜¤ë²„í”Œë¡œë‚˜ ì–¸ë”í”Œë¡œê°€ ë°œìƒí•  ìˆ˜ ìˆë‹¤.
- ê²€ì‚¬í•˜ëŠë¼ ì¶”ê°€ë¹„ìš©ì´ ë“¤ì§€ ì•ŠëŠ”ë‹¤.

### ğŸ”– 8.1.5 Anyì™€ Any?: ì½”í‹€ë¦° íƒ€ì… ê³„ì¸µì˜ ë¿Œë¦¬

- ìë°”ì™€ ë‹¬ë¦¬ Anyê°€ ì›ì‹œ íƒ€ì…ì„ í¬í•¨í•œ ëª¨ë“  íƒ€ì…ì˜ ì¡°ìƒ íƒ€ì…ì´ë‹¤.

```kotlin
val answer: Any = 42
```

- ì›ì‹œ íƒ€ì… ê°’ì„ Any íƒ€ì…ì˜ ë³€ìˆ˜ì— ëŒ€ì…í•˜ë©´ ìë™ìœ¼ë¡œ ê°’ì„ ê°ì²´ë¡œ ê°ì‹¼ë‹¤.(ë°•ì‹±)
- Anyê°€ ë„ì´ ë  ìˆ˜ ì—†ëŠ” íƒ€ì…ì„ì— ìœ ì˜

### ğŸ”– 8.1.6 Unit íƒ€ì…: ì½”í‹€ë¦°ì˜ void

```kotlin
fun f(): Unit {}
fun f() {}
```

- Unitì„ ë°˜í™˜í•˜ì§€ë§Œ íƒ€ì…ì„ ì§€ì •í•  í•„ìš”ëŠ” ì—†ë‹¤.
- returnì„ ëª…ì‹œí•  í•„ìš”ê°€ ì—†ë‹¤.
  - ì»´íŒŒì¼ëŸ¬ê°€ ì•”ì‹œì ìœ¼ë¡œ `return Unit`ì„ ë„£ì–´ì¤€ë‹¤.
- í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë°ì—ì„œ ì „í†µì ìœ¼ë¡œ Unitì€ **ë‹¨ í•˜ë‚˜ì˜ ì¸ìŠ¤í„´ìŠ¤ë§Œ ê°–ëŠ” íƒ€ì…**ì„ ì˜ë¯¸
- javaì˜ voidì™€ ì¸ìŠ¤í„´ìŠ¤ì˜ ìœ ë¬´ê°€ ê°€ì¥ í° ì°¨ì´

### ğŸ”– 8.1.7 Nothing íƒ€ì…: ì´ í•¨ìˆ˜ëŠ” ê²°ì½” ë°˜í™˜ë˜ì§€ ì•ŠëŠ”ë‹¤

```kotlin
fun fail(message: String): Nothing {
    throw IllegalArgumentException(message)
}
```

- Nothing íƒ€ì…ì€ ì•„ë¬´ ê°’ë„ í¬í•¨í•˜ì§€ ì•ŠëŠ”ë‹¤.
- í•¨ìˆ˜ì˜ ë°˜í™˜ íƒ€ì…ì´ë‚˜ ë°˜í™˜ íƒ€ì…ìœ¼ë¡œ ì“°ì¼ íƒ€ì… íŒŒë¼ë¯¸í„°ë¡œë§Œ ì“¸ ìˆ˜ ìˆë‹¤.

```kotlin
val address = company.address ?: fail("No address")
```

- Nothingì„ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜ë¥¼ ì—˜ë¹„ìŠ¤ ì—°ì‚°ìì˜ ì˜¤ë¥¸ìª½ì— ì‚¬ìš©í•´ì„œ ì „ì œì¡°ê±´ì„ ê²€ì‚¬í•  ìˆ˜ ìˆë‹¤.

## ğŸ“– 8.2 ì»¬ë ‰ì…˜ê³¼ ë°°ì—´

### ğŸ”– 8.2.1 ë„ì´ ë  ìˆ˜ ìˆëŠ” ê°’ì˜ ì»¬ë ‰ì…˜ê³¼ ë„ì´ ë  ìˆ˜ ìˆëŠ” ì»¬ë ‰ì…˜

```kotlin
fun readNumbers(text: String): List<Int?> {
    val result = mutableListOf<Int?>()
    for (line in text.lineSequence()) {
        val numberOrNull = line.toIntOrNull()
        result.add(numberOrNull)
    }
    return result
}
```

- `List<Int?>`
  - List ìì²´ëŠ” í•­ìƒ Nullì´ ì•„ë‹ˆë‹¤.
  - ê° ì›ì†ŒëŠ” Nullì´ ë  ìˆ˜ ìˆë‹¤.
- `List<Int>?`
  - ListëŠ” Nullì´ ë  ìˆ˜ ìˆë‹¤.
  - ê° ì›ì†ŒëŠ” Nullì´ ë  ìˆ˜ ì—†ë‹¤.

```kotlin
fun readNumbers2(text: String): List<Int?> = text.lineSequence().map { it.toIntOrNull() }.toList()
```

- í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë°ìœ¼ë¡œ ê°„ë‹¨í•˜ê²Œ í‘œí˜„í•  ìˆ˜ ìˆë‹¤.
- ë„ì´ ë  ìˆ˜ ìˆëŠ” ê°’ìœ¼ë¡œ ì´ë¤„ì§€ê³ , ë„ì´ ë  ìˆ˜ ìˆëŠ” ë¦¬ìŠ¤íŠ¸ë¥¼ ì •ì˜í•´ì•¼ í•œë‹¤ë©´ `List<Int?>?`ë¡œ í‘œí˜„í•  ìˆ˜ ìˆë‹¤.

```kotlin

fun addValidNumbers(numbers: List<Int?>) {
    var sumOfValidNumbers = 0
    var invalidNumbers = 0
    for (number in numbers) {
        if (number != null) {
            sumOfValidNumbers += number
        } else {
            invalidNumbers++
        }
    }
    println("Sum of valid numbers: $sumOfValidNumbers")
    println("Invalid numbers: $invalidNumbers")
}

fun main() {
    val input = """
        1
        abc
        42
    """.trimIndent()
    val numbers = readNumbers(input)
    addValidNumbers(numbers)
    // Sum of valid numbers: 43
    // Invalid numbers: 1
}
```

- `filterNotNull`ì„ ì‚¬ìš©í•´ ê°„ë‹¨í•˜ê²Œ ë§Œë“¤ ìˆ˜ ìˆë‹¤.

```kotlin
fun addValidNumbers(numbers: List<Int?>) {
    val validNumbers = numbers.filterNotNull()
    println("Sum of valid numbers: ${validNumbers.sum()}")
    println("Invalid numbers: ${numbers.size - validNumbers.size}")
}
```

### ğŸ”– 8.2.2 ì½ê¸° ì „ìš©ê³¼ ë³€ê²½ ê°€ëŠ¥í•œ ì»¬ë ‰ì…˜

ì½”í‹€ë¦°ì˜ ì»¬ë ‰ì…˜ ì¸í„°í˜ì´ìŠ¤ëŠ” ì½ê¸° ì „ìš©(read-only) ê³¼ ë³€ê²½ ê°€ëŠ¥(mutable) ë‘ ê°€ì§€ ë²„ì „ì´ ìˆë‹¤.

```kotlin
fun <T> copyElements(source: Collection<T>, target: MutableCollection<T>) {
    for (item in source) {
        target.add(item)
    }
}
```

```kotlin
fun <T> copyElements(source: Collection<T>, target: MutableCollection<T>) {
    for (item in source) {
        target.add(item)
    }
}

fun main() {
    val source: Collection<Int> = arrayListOf(3, 5, 7)
    val target: Collection<Int> = arrayListOf(1)
    copyElements(source, target) // ì»´íŒŒì¼ ì—ëŸ¬ ë°œìƒ
}
```

- ì½ê¸° ì „ìš© ì»¬ë ‰ì…˜ì´ í•­ìƒ thread safeí•˜ì§€ëŠ” ì•ŠëŠ”ë‹¤.
  - ë‚´ë¶€ì—ì„œ ë³€ê²½í•  ìˆ˜ë„ ìˆìŒ!
  - ì¦‰, ë¶ˆë³€ì€ ì•„ë‹ˆë‹¤.

### ğŸ”– 8.2.3 ì½”í‹€ë¦° ì»¬ë ‰ì…˜ê³¼ ìë°” ì»¬ë ‰ì…˜ì€ ë°€ì ‘íˆ ì—°ê´€ë¨

ëª¨ë“  ì½”í‹€ë¦° ì»¬ë ‰ì…˜ì€ ê·¸ì— ìƒì‘í•˜ëŠ” ìë°” ì»¬ë ‰ì…˜ ì¸í„°í˜ì´ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ì´ë‹¤.

- ì½”í‹€ë¦°ì˜ ì½ê¸° ì „ìš©ê³¼ ë³€ê²½ ê°€ëŠ¥ ì¸í„°í˜ì´ìŠ¤ì˜ ê¸°ë³¸ êµ¬ì¡°ëŠ” `java.util` íŒ¨í‚¤ì§€ì— ìˆëŠ” ìë°” ì»¬ë ‰ì…˜ ì¸í„°í˜ì´ìŠ¤ì˜ êµ¬ì¡°ì™€ ê°™ë‹¤.
- ì½ê¸° ì „ìš© ì¸í„°í˜ì´ìŠ¤ì—ëŠ” ì»¬ë ‰ì…˜ì„ ë³€ê²½í•  ìˆ˜ ìˆëŠ” ëª¨ë“  ìš”ì†Œê°€ ë¹ ì ¸ìˆë‹¤.

| ì»¬ë ‰ì…˜ íƒ€ì… | ì½ê¸° ì „ìš© íƒ€ì…      | ë³€ê²½ ê°€ëŠ¥ íƒ€ì…                                                               |
|-------------|---------------------|--------------------------------------------------------------------------------|
| `List`      | `listOf`, `List`           | `mutableListOf`, `MutableList`                                                 |
| `Set`       | `setOf`             | `mutableSetOf`, `MutableSet` ë“±                                                   |
| `Map`       | `mapOf`             | `mutableMapOf`, `MutableMap` ë“±                                                   |

```java
public class CollectionUtils {
    public static List<String> upperCaseAll(List<String> items) {
        for (int i = 0; i < items.size(); i++) {
             items.set(i, items.get(i).toUpperCase());
        }
        return items;
    }
}
```

```kotlin
fun printInUpperCase(list: List<String>) {
    println(CollectionUtils.upperCaseAll(list))
    println(list.first())
}

fun main() {
    val list = listOf("a", "b", "c")
    printInUpperCase(list)
}
```

- ì»¬ë ‰ì…˜ì„ ë³€ê²½í•˜ëŠ” ìë°” ë©”ì„œë“œì—ê²Œ ì½ê¸° ì „ìš© `Collection`ì„ ë„˜ê²¨ë„ ì½”í‹€ë¦° ì»´íŒŒì¼ëŸ¬ê°€ ì´ë¥¼ ë§‰ì„ ìˆ˜ ì—†ë‹¤.
- ì»¬ë ‰ì…˜ì„ ìë°” ì½”ë“œì—ê²Œ ë„˜ê¸¸ ë•ŒëŠ” íŠ¹ë³„íˆ ì£¼ì˜ë¥¼ ê¸°ìš¸ì—¬ì•¼ í•œë‹¤.

### ğŸ”– 8.2.4 ìë°”ì—ì„œ ì„ ì–¸í•œ ì»¬ë ‰ì…˜ì€ ì½”í‹€ë¦°ì—ì„œ í”Œë«í¼ íƒ€ì…ìœ¼ë¡œ ë³´ì„

- í”Œë«í¼ íƒ€ì…ì˜ ê²½ìš° ì½”í‹€ë¦° ìª½ì—ëŠ” ë„ ê´€ë ¨ ì •ë³´ê°€ ì—†ë‹¤.
- ìë°” ìª½ì—ì„œ ì„ ì–¸í•œ ì»¬ë ‰ì…˜ íƒ€ì…ì˜ ë³€ìˆ˜ë¥¼ ì½”í‹€ë¦°ì—ì„œëŠ” í”Œë«í¼ íƒ€ì…ìœ¼ë¡œ ë³¸ë‹¤.
- ì»¬ë ‰ì…˜ íƒ€ì…ì´ ì‹œê·¸ë‹ˆì²˜ì— ë“¤ì–´ê°„ ìë°” ë©”ì„œë“œ êµ¬í˜„ì„ ì˜¤ë²„ë¼ì´ë“œí•˜ë ¤ëŠ” ê²½ìš° ì½ê¸° ì „ìš© ì»¬ë ‰ì…˜ê³¼ ë³€ê²½ ê°€ëŠ¥ ì»¬ë ‰ì…˜ì˜ ì°¨ì´ê°€ ë¬¸ì œê°€ ëœë‹¤.
  - ì»¬ë ‰ì…˜ì´ nullì´ ë  ìˆ˜ ìˆëŠ”ê°€?
  - ì»¬ë ‰ì…˜ì˜ ì›ì†Œê°€ nullì´ ë  ìˆ˜ ìˆëŠ”ê°€?
  - ì—¬ëŸ¬ë²ˆì´ ì‘ì„±í•  ë©”ì„œë“œê°€ ì»¬ë ‰ì…˜ì„ ë³€ê²½í•  ìˆ˜ ìˆëŠ”ê°€?

```java
public interface FileContentProcessor {
    void processContents(File path, byte[] binaryContents, List<String> textContents);
}
```

- ì´ë¥¼ ì½”í‹€ë¦°ìœ¼ë¡œ êµ¬í˜„í•˜ë©´ ì•„ë˜ì™€ ê°™ë‹¤.

```kotlin
class FileIndexer : FileContentProcessor {
    override fun processContents(path: File, binaryContents: ByteArray?, textContents: MutableList<String>?) {
        TODO("Not yet implemented")
    }
}
```

```java
interface DataParser<T> {
    void parseData(
            String input,
            List<T> output,
            List<String> errors
    );
}
```

- ì´ë¥¼ ì½”í‹€ë¦°ìœ¼ë¡œ êµ¬í˜„í•˜ë©´ ì•„ë˜ì™€ ê°™ë‹¤.

```kotlin
class PersonParser : DataParser<Person> {
    override fun parseData(input: String, output: MutableList<Person>, errors: MutableList<String?>) {
        TODO("Not yet implemented")
    }
}
```

- java ì¸í„°í˜ì´ìŠ¤ë‚˜ í´ë˜ìŠ¤ê°€ ì–´ë–¤ ë§¥ë½ì—ì„œ ì‚¬ìš©ë˜ëŠ”ì§€ ì •í™•íˆ ì•Œì•„ì•¼ í•œë‹¤.

### ğŸ”– 8.2.5 ì„±ëŠ¥ê³¼ ìƒí˜¸ìš´ìš©ì„ ìœ„í•´ ê°ì²´ì˜ ë°°ì—´ì´ë‚˜ ì›ì‹œ íƒ€ì…ì˜ ë°°ì—´ì„ ë§Œë“¤ê¸°

```kotlin
fun main(args: Array<String>) {
    for (i in args.indices) {
        println("Argument $i is: ${args[i]}")
    }
}
```

- ì½”í‹€ë¦° ë°°ì—´ì€ íƒ€ì… íŒŒë¼ë¯¸í„°ë¥¼ ë°›ëŠ” í´ë˜ìŠ¤ë‹¤.

```kotlin
fun main() {
    val letters = Array<String>(26) { i -> ('a' + i).toString() }
    println(letters.joinToString(""))
}
```

- íƒ€ì…ì¸ìë¥¼ ìƒëµí•´ë„ ì»´íŒŒì¼ëŸ¬ê°€ ì•Œì•„ì„œ ì›ì†Œ íƒ€ì…ì„ ì¶”ë¡ í•´ì¤€ë‹¤.

```kotlin
fun main() {
    val letters = Array(26) { i -> ('a' + i).toString() }
    println(letters.joinToString(""))
}
```

- ë°ì´í„°ê°€ ì´ë¯¸ ì»¬ë ‰ì…˜ì— ë“¤ì–´ ìˆë‹¤ë©´ ì»¬ë ‰ì…˜ì„ ë°°ì—´ë¡œ ë³€í™˜í•´ì•¼ í•œë‹¤.

```kotlin
fun main() {
    val strings = listOf("a", "b", "c")
    println("%s/%s/%s".format(*strings.toTypedArray())) // ìŠ¤í”„ë ˆë“œ ì—°ì‚°ì ì‚¬ìš©
}
```

- ì½”í‹€ë¦°ì€ ì›ì‹œ íƒ€ì…ì˜ ë°°ì—´ì„ í‘œí˜„í•˜ëŠ” ë³„ë„ í´ë˜ìŠ¤ë¥¼ ê° ì›ì‹œ íƒ€ì…ë§ˆë‹¤ í•˜ë‚˜ì”© ì œê³µí•œë‹¤.

```kotlin
val fiveZeros = IntArray(5)
val fiveZerosToo = intArrayOf(0, 0, 0, 0, 0)

fun main() {
    val squares = IntArray(5) { i -> (i + 1) * (i + 1) }
    println(squares.joinToString())
}
```

- ë°°ì—´ì„ ë§Œë“œëŠ” ë°©ë²•ì€ ë‹¤ì–‘í•˜ë‹¤.
