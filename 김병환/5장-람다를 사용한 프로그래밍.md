# ğŸ“š 5ì¥ ëŒë‹¤ë¥¼ ì‚¬ìš©í•œ í”„ë¡œê·¸ë˜ë°

- ëŒë‹¤ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ë‹¤ë¥¸ í•¨ìˆ˜ì— ë„˜ê¸¸ ìˆ˜ ìˆëŠ” ì‘ì€ ì½”ë“œ ì¡°ê°ì„ ì˜ë¯¸

## ğŸ“– 5.1 ëŒë‹¤ì‹ê³¼ ë©¤ë²„ ì°¸ì¡°

### ğŸ”– 5.1.1 ëŒë‹¤ ì†Œê°œ: ì½”ë“œ ë¸”ë¡ì„ ê°’ìœ¼ë¡œ ë‹¤ë£¨ê¸°

```kotlin
button.setOnClickListener(object: OnClickListener {
    override fun onClick(v: View) {
        println("I was clicked!")
    }
})
```

```kotlin
button.setOnClickListener {
    println("I was clicked!")
}
```

- ëŒë‹¤ë¥¼ ë©”ì„œë“œê°€ í•˜ë‚˜ë¿ì¸ ìµëª… ê°ì²´ ëŒ€ì‹  ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

### ğŸ”– 5.1.2 ëŒë‹¤ì™€ ì»¬ë ‰ì…˜

```kotlin
fun findTheOldest(people: List<Person>) {
    var maxAge = 0
    var theOldest: Person? = null
    for (person in people) {
        if (person.age > maxAge) {
            maxAge = person.age
            theOldest = person
        }
    }
    println(theOldest)
}
```

```kotlin
    people.maxByOrNull { it.age }
```

- `maxByOrNull` í•¨ìˆ˜ë¥¼ ì´ìš©í•˜ë©´ í¸í•œë‹¤.
- ëŒë‹¤ê°€ ì¸ìë¥¼ í•˜ë‚˜ë§Œ ë°›ê³  ê·¸ ì¸ìì— êµ¬ì²´ì ì¸ ì´ë¦„ì„ ë¶™ì´ê³  ì‹¶ì§€ ì•Šê¸° ë•Œë¬¸ì— itì´ë¼ëŠ” ì•”ì‹œì  ì´ë¦„ì„ ì‚¬ìš©í•œë‹¤.
- ë©¤ë²„ ì°¸ì¡° ë˜í•œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

### ğŸ”– 5.1.3 ëŒë‹¤ì‹ì˜ ë¬¸ë²•

```kotlin
fun main() {
    val sum = {x: Int, y: Int -> x + y}
    println(sum)
}
```

- ì½”í‹€ë¦° ëŒë‹¤ì‹ì€ ì¤‘ê´„í˜¸ë¡œ ë‘˜ëŸ¬ì‹¸ì—¬ ìˆë‹¤.
- í™”ì‚´í‘œê°€ ì¸ì ëª©ë¡ê³¼ ëŒë‹¤ ë³¸ë¬¸ì„ êµ¬ë¶„í•´ì¤€ë‹¤.

```kotlin
fun main() {
    { println(42) }
}
```

- ëŒë‹¤ì‹ì„ ì§ì ‘ í˜¸ì¶œí•´ë„ ëœë‹¤.
- ë³„ë¡œ ì“¸ëª¨ê°€ ì—†ì–´ ì§ì ‘ ì‹¤í–‰í•˜ëŠ” í¸ì´ ë‚«ë‹¤.

```kotlin
fun main() {
    run{ println(42) }
}
```

- runì€ ì¸ìë¡œ ë°›ì€ ëŒë‹¤ë¥¼ ì‹¤í–‰í•´ ì£¼ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ í•¨ìˆ˜

```kotlin
    people.maxByOrNull({p: Person -> p.age })
```

- êµ¬ë¶„ìê°€ ë„ˆë¬´ ë§ì´ ì“°ì—¬ì„œ ê°€ë…ì„±ì´ ëœì–´ì§„ë‹¤.
- ì»´íŒŒì¼ëŸ¬ê°€ ë¬¸ë§¥ìœ¼ë¡œë¶€í„° ìœ ì¶”í•  ìˆ˜ ìˆëŠ” ì¸ì íƒ€ì…ì„ êµ³ì´ ì ì„ í•„ìš”ê°€ ì—†ë‹¤.
- ì¸ìê°€ í•˜ë‚˜ë¿ì¸ ê²½ìš° ì´ë¦„ì„ ë¶™ì´ì§€ ì•Šì•„ë„ ëœë‹¤.

```kotlin
    people.maxByOrNull() {p: Person -> p.age }
```

- ì½”í‹€ë¦°ì—ëŠ” í•¨ìˆ˜ í˜¸ì¶œ ì‹œ ë§¨ ë’¤ì— ìˆëŠ” ì¸ìê°€ ëŒë‹¤ì‹ì´ë¼ë©´ ê·¸ ëŒë‹¤ë¥¼ ê´„í˜¸ ë°–ìœ¼ë¡œ ë¹¼ë‚¼ ìˆ˜ ìˆë‹¤.
  - ë¬¸ë²•ì  ê´€ìŠµ

```kotlin
    people.maxByOrNull {p: Person -> p.age }
```

- ëŒë‹¤ê°€ ì–´ë–¤ í•¨ìˆ˜ì˜ ìœ ì¼í•œ ì¸ìì´ê³  ê´„í˜¸ ë’¤ì— ëŒë‹¤ë¥¼ ì¼ë‹¤ë©´ í˜¸ì¶œì‹œ ë¹ˆ ê´„í˜¸ë¥¼ ì—†ì• ë„ ëœë‹¤.

```kotlin
fun main() {
    val people = listOf(Person("Dmitry", 4), Person("Eve", 4))
    val names = people.joinToString(
        separator = " ",
        transform = { p: Person -> p.name }
    )
    println(names)
}
```

```kotlin
    people.joinToString(" ") { p: Person -> p.name  }
```

- êµ‰ì¥íˆ ê°„ê²°í•˜ê²Œ ë³€í•œë‹¤.

```kotlin
    people.maxByOrNull { p: Person -> p.age }
    people.maxByOrNull { p -> p.age } // íŒŒë¼ë¯¸í„° íƒ€ì…ì„ ì»´íŒŒì¼ëŸ¬ê°€ ì¶”ë¡ 
```

- ë¡œì»¬ ë³€ìˆ˜ì²˜ëŸ¼ ì»´íŒŒì¼ëŸ¬ëŠ” ëŒë‹¤ íŒŒë¼ë¯¸í„°ì˜ íƒ€ì…ë„ ì¶”ë¡ í•  ìˆ˜ ìˆë‹¤.
- itì„ ë„ˆë¬´ ë‚¨ìš©í•˜ëŠ” ê²ƒë³´ë‹¤ëŠ” íŒŒë¼ë¯¸í„°ë¥¼ ëª…ì‹œí•˜ëŠ” í¸ì´ ë‚«ë‹¤.

```kotlin
    val getAge = { p: Person -> p.age }
    people.maxByOrNull { getAge}
```

- ëŒë‹¤ë¥¼ ë³€ìˆ˜ì— ì €ì¥í•  ë•ŒëŠ” íŒŒë¼ë¯¸í„°ì˜ íƒ€ì…ì„ ì¶”ë¡ í•  ë¬¸ë°±ì´ ì¡´ì¬í•˜ì§€ ì•ŠëŠ”ë‹¤.

```kotlin
fun main() {
    val sum = { x: Int, y: Int -> 
        println("Computing $x and $y")
        x + y
    }
}
```

- ë³¸ë¬¸ì´ ì—¬ëŸ¬ ì¤„ë¡œ ì´ë¤„ì§„ ê²½ìš° ë³¸ë¬¸ì˜ ë§¨ ë§ˆì§€ë§‰ì— ìˆëŠ” ì‹ì´ ëŒë‹¤ì˜ ê²°ê´ê°’ì´ ëœë‹¤.
- ëª…ì‹œì ì¸ returnì´ í•„ìš”í•˜ì§€ ì•Šë‹¤.

### ğŸ”– 5.1.4 í˜„ì¬ ì˜ì—­ì— ìˆëŠ” ë³€ìˆ˜ ì ‘ê·¼

```kotlin
fun printMessagesWithPrefix(messages: Collection<String>, prefix: String) {
    messages.forEach { 
        println("$prefix $it")
    }
}
```

- `forEach` ëŒë‹¤ëŠ” ìì‹ ì„ ë‘˜ëŸ¬ì‹¼ ì˜ì—­ì— ì •ì˜ëœ prefix ë³€ìˆ˜ì™€ ë‹¤ë¥¸ ë³€ìˆ˜ì— ì ‘ê·¼í•  ìˆ˜ ìˆë‹¤.
  - íŒŒì¼ ì˜ì—­ì— ì´ë¥¼ ë•Œê¹Œì§€ ìì‹ ì„ ë‘˜ëŸ¬ì‹¼ ì˜ì—­ì˜ ë³€ìˆ˜ë¥¼ ì°¸ì¡°í•  ìˆ˜ ìˆë‹¤.

```kotlin
fun printProblemCounts(responses: Collection<String>) {
    var clientErrors = 0
    var serverErrors = 0
    responses.forEach {
        if (it.startsWith("4")) {
            clientErrors++
        } else if (it.startsWith("5")) {
            serverErrors++
        }
    }
}
```

- ì½”í‹€ë¦°ê³¼ ìë°” ëŒë‹¤ì˜ ë‹¤ë¥¸ ì  ì¤‘ í•œê°€ì§€ëŠ” ì½”í‹€ë¦° ëŒë‹¤ ì•ˆì—ì„œëŠ” íŒŒì´ë„ ë³€ìˆ˜ê°€ ì•„ë‹Œ ë³€ìˆ˜ì— ì ‘ê·¼í•  ìˆ˜ ìˆë‹¤ëŠ” ì ì´ë‹¤.
- ëŒë‹¤ ì•ˆì—ì„œ ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” ì™¸ë¶€ ë³€ìˆ˜ë¥¼ **ëŒë‹¤ê°€ ìº¡ì²˜í•œ ë³€ìˆ˜**ë¼ê³  ë¶€ë¥¸ë‹¤.
- ê¸°ë³¸ì ìœ¼ë¡œ í•¨ìˆ˜ ì•ˆì— ì •ì˜ëœ ë¡œì»¬ ë³€ìˆ˜ì˜ ìƒëª…ì£¼ê¸°ëŠ” í•¨ìˆ˜ê°€ ë°˜í™˜ë˜ë©´ ëë‚œë‹¤.
- íŒŒì´ë„ ë³€ìˆ˜ ìº¡ì²˜ -> ëŒë‹¤ ì½”ë“œë¥¼ ë³€ìˆ˜ ê°’ê³¼ í•¨ê»˜ ì €ì¥
- íŒŒì´ë„ì´ ì•„ë‹Œ ë³€ìˆ˜ë¥¼ ìº¡ì²˜ -> ë³€ìˆ˜ë¥¼ íŠ¹ë³„í•œ ë˜í¼ë¡œ ê°ì‹¸ì„œ ë‚˜ì¤‘ì— ë³€ê²½í•˜ê±°ë‚˜ ì½ì„ ìˆ˜ ìˆê²Œ í•œ ë‹¤ìŒ, ë˜í¼ì— ëŒ€í•œ ì°¸ì¡°ë¥¼ ëŒë‹¤ ì½”ë“œì™€ í•¨ê»˜ ì €ì¥

### ğŸ”– 5.1.5 ë©¤ë²„ ì°¸ì¡°

```kotlin
    val getAge = Person::age
```

- ::ì„ ì‚¬ìš©í•˜ëŠ” ì‹ì„ ë©¤ë²„ ì°¸ì¡°ë¼ê³  ë¶€ë¥¸ë‹¤.
  - í•œ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ê±°ë‚˜ í•œ í”„ë¡œí¼í‹°ì— ì ‘ê·¼í•˜ëŠ” í•¨ìˆ˜ ê°’ì„ ë§Œë“¤ì–´ì¤€ë‹¤.
- ì°¸ì¡° ëŒ€ìƒì´ í•¨ìˆ˜ì¸ì§€ í”„ë¡œí¼í‹°ì¸ì§€ì™€ëŠ” ê´€ê³„ì—†ì´ ë©¤ë²„ ì°¸ì¡° ë’¤ì—ëŠ” ê´„í˜¸ë¥¼ ë„£ìœ¼ë©´ ì•ˆ ëœë‹¤.

```kotlin
fun salute() = println("Salute")

fun main() {
    run { ::salute }
}
```

- ìµœìƒìœ„ì— ì„ ì–¸ëœ í•¨ìˆ˜ë‚˜ í”„ë¡œí¼í‹°ë¥¼ ì°¸ì¡°í•  ìˆ˜ë„ ìˆë‹¤.

```kotlin
fun main() {
    val createPerson = ::Person
}
```

- ìƒì„±ì ì°¸ì¡°ë¥¼ ì‚¬ìš©í•˜ë©´ í´ë˜ìŠ¤ ìƒì„± ì‘ì—…ì„ ì—°ê¸°í•˜ê±°ë‚˜ ì €ì¥í•´ë‘˜ ìˆ˜ ìˆë‹¤.
- í™•ì¥ í•¨ìˆ˜ë„ ë˜‘ê°™ì€ ë°©ì‹ìœ¼ë¡œ ì°¸ì¡°í•  ìˆ˜ ìˆë‹¤.

### ğŸ”– 5.1.6 ê°’ê³¼ ì—®ì¸ í˜¸ì¶œ ê°€ëŠ¥ ì°¸ì¡°

```kotlin
fun main() {
    val seb = Person("Sebastian", 26)
    val personsAgeFunction = Person::age // ì‚¬ëŒì´ ì£¼ì–´ì§€ë©´ ë‚˜ì´ë¥¼ ëŒë ¤ì£¼ëŠ” ë©¤ë²„ ì°¸ì¡°
    println(personsAgeFunction(seb)) // ì‚¬ëŒì„ ì¸ìë¡œ ë°›ìŒ
    
    val sebsAgeFunction = seb::age // íŠ¹ì • ì‚¬ëŒì˜ ë‚˜ì´ë¥¼ ëŒë ¤ì£¼ëŠ”, ê°’ê³¼ ì—®ì¸ í˜¸ì¶œ ê°€ëŠ¥ ì°¸ì¡°
    println(sebsAgeFunction) // íŒŒë¼ë¯¸í„° ì§€ì •í•˜ì§€ ì•Šì•„ë„ ë¨
}
```

- íŠ¹ì • ê°ì²´ ì¸ìŠ¤í„´ìŠ¤ì— ëŒ€í•œ ë©”ì„œë“œ í˜¸ì¶œì— ëŒ€í•œ ì°¸ì¡°ë¥¼ ë§Œë“¤ ìˆ˜ ìˆë‹¤.

## ğŸ“– 5.2 ìë°”ì˜ í•¨ìˆ˜í˜• ì¸í„°í˜ì´ìŠ¤ ì‚¬ìš©: ë‹¨ì¼ ì¶”ìƒ ë©”ì„œë“œ

í•¨ìˆ˜í˜• ì¸í„°í˜ì´ìŠ¤ or ë‹¨ì¼ ì¶”ìƒ ë©”ì„œë“œ ì¸í„°í˜ì´ìŠ¤

- ì¸í„°í˜ì´ìŠ¤ ì•ˆì— ì¶”ìƒ ë©”ì„œë“œê°€ ë‹¨ í•˜ë‚˜

### ğŸ”– 5.2.1 ëŒë‹¤ë¥¼ ìë°” ë©”ì„œë“œì˜ íŒŒë¼ë¯¸í„°ë¡œ ì „ë‹¬

```java
    void postponeComputation(int delay, Runnable computation) {}
```

```kotlin
    postponeComputation(1000) { println(42) }
```

- ì»´íŒŒì¼ëŸ¬ëŠ” ìë™ìœ¼ë¡œ Runnableì˜ ì¸ìŠ¤í„´ìŠ¤ë¡œ ë³€í™˜í•´ì¤€ë‹¤.
  - ìµëª… í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë§Œë“¤ì–´ì¤Œ

```kotlin
postponeComputation(1000, object : Runnable) {
        override fun run() {
            println(42)
        }
    }
```

- ëª…ì‹œì ìœ¼ë¡œ ì„ ì–¸í•˜ë©´ í˜¸ì¶œí•  ë•Œë§ˆë‹¤ ìƒˆ ì¸ìŠ¤í„´ìŠ¤ê°€ ìƒê¸°ì§€ë§Œ ëŒë‹¤ë¥¼ ì‚¬ìš©í•˜ë©´ ëŒë‹¤ì— í•´ë‹¹í•˜ëŠ” ìµëª… ê°ì²´ê°€ ì¬ì‚¬ìš©ëœë‹¤.
- ëŒë‹¤ë¥¼ inline í‘œì‹œê°€ ë¼ ìˆëŠ” ì½”í‹€ë¦° í•¨ìˆ˜ì— ì „ë‹¬í•˜ë©´ ìµëª… í´ë˜ìŠ¤ê°€ ìƒì„±ë˜ì§€ ì•ŠëŠ”ë‹¤.

### ğŸ”– 5.2.2 SAM ë³€í™˜: ëŒë‹¤ë¥¼ í•¨ìˆ˜í˜• ì¸í„°í˜ì´ìŠ¤ë¡œ ëª…ì‹œì  ë³€í™˜

```kotlin
fun createAllDoneRunnable(): Runnable {
    return Runnable { println("All done!") }
}

fun main() {
    createAllDoneRunnable().run()
}
```

- SAM ìƒì„±ìëŠ” ì»´íŒŒì¼ëŸ¬ê°€ ìƒì„±í•œ í•¨ìˆ˜ë¡œ ëŒë‹¤ë¥¼ ë‹¨ì¼ ì¶”ìƒ ë©”ì„œë“œ ì¸í„°í˜ì´ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ë¡œ ëª…ì‹œì ìœ¼ë¡œ ë³€í™˜
- SAM ìƒì„±ìì˜ ì´ë¦„ì€ ì‚¬ìš©í•˜ë ¤ëŠ” í•¨ìˆ˜í˜• ì¸í„°í˜ì´ìŠ¤ì˜ ì´ë¦„ê³¼ ê°™ë‹¤.
- SAM ìƒì„±ìëŠ” í•˜ë‚˜ì˜ ì¸ìë§Œì„ ë°›ì•„ í•¨ìˆ˜í˜• ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ëŠ” í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë°˜í™˜

```kotlin
val listener = OnClickListener {view -> // ëŒë‹¤ë¥¼ ì‚¬ìš©í•´ SAM ìƒì„±ì í˜¸ì¶œ
    val text = when (view.id) {
        button1.id -> "First button"
        button2.id -> "Second button"
        else -> "Unknown button"
    }
    toast(text)
}
```

- ê°’ì„ ë°˜í™˜í•  ë•Œ ì™¸ì— ëŒë‹¤ë¡œ ìƒì„±í•œ í•¨ìˆ˜í˜• ì¸í„°í˜ì´ìŠ¤ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë³€ìˆ˜ì— ì €ì¥í•´ì•¼ í•˜ëŠ” ê²½ìš°ì—ë„ SAM ìƒì„±ì ì‚¬ìš©
- ëŒë‹¤ì—ëŠ” ìµëª… ê°ì²´ì™€ ë‹¬ë¦¬ ì¸ìŠ¤í„´ìŠ¤ ìì‹ ì„ ê°€ë¦¬í‚¤ëŠ” `this`ê°€ ì—†ë‹¤.
  - ëŒë‹¤ ì•ˆì—ì„œ `this`ëŠ” ê·¸ ëŒë‹¤ë¥¼ ë‘˜ëŸ¬ì‹¼ í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ê°€ë¦¬í‚¨ë‹¤.
- SAM ë³€í™˜ì„ ì»´íŒŒì¼ë¡œê°€ ìë™ìœ¼ë¡œ ìˆ˜í–‰í•  ìˆ˜ ìˆì§€ë§Œ ê°€ë” ì˜¤ë²„ë¡œë“œí•œ ë©”ì„œë“œ ì¤‘ì—ì„œ ì–´ë–¤ íƒ€ì…ì˜ ë©”ì„œë“œë¥¼ ì„ íƒí•´ ëŒë‹¤ë¥¼ ë³€í™˜í•´ ë„˜ê²¨ì¤˜ì•¼ í• ì§€ ëª¨í˜¸í•œ ë•Œì—ëŠ” ëª…ì‹œì ìœ¼ë¡œ SAM ìƒì„±ì ì ìš©í•˜ë©´ ëœë‹¤.

## ğŸ“– 5.3 ì½”í‹€ë¦°ì—ì„œ SAM ì¸í„°í˜ì´ìŠ¤ ì •ì˜: fun interface

```kotlin
fun interface IntCondition {
    fun check(i: Int): Boolean
    fun checkString(s: String) = check(s.toInt())
    fun checkChar(c: Char) = check(c.digitToInt())
}
```

- `fun interface`ë¼ê³  ì •ì˜ëœ íƒ€ì…ì˜ íŒŒë¼ë¯¸í„°ë¥¼ ë°›ëŠ” í•¨ìˆ˜ê°€ ìˆì„ ë•Œ ëŒë‹¤ êµ¬í˜„ì´ë‚˜ ëŒë‹¤ì— ëŒ€í•œ ì°¸ì¡°ë¥¼ ì§ì ‘ ë„˜ê¸¸ ìˆ˜ ìˆë‹¤.

```kotlin
fun checkCondition(i: Int, condition: IntCondition): Boolean {
    return condition.check(i)
}

fun main() {
    checkCondition(1) { it % 2 != 0} // ëŒë‹¤ ì§ì ‘ ì‚¬ìš©

    val isOdd: (Int) -> Boolean = { it % 2 != 0 }
    checkCondition(1, isOdd) // ì‹œê·¸ë‹ˆì²˜ê°€ ì¼ì¹˜í•˜ëŠ” ëŒë‹¤ì— ëŒ€í•œ ì°¸ì¡° ì‚¬ìš©
}
```

- í•¨ìˆ˜í˜• íƒ€ì… ì‹œê·¸ë‹ˆì²˜ë¡œ í‘œí˜„í•  ìˆ˜ ì—†ëŠ” ì—°ì‚°ì´ë‚˜ ë” ë³µì¡í•œ ê³„ì•½ì„ í‘œí˜„í•˜ë ¤ë©´ í•¨ìˆ˜í˜• ì¸í„°í˜ì´ìŠ¤ê°€ ì¢‹ì€ ì„ íƒ

## ğŸ“– 5.4 ìˆ˜ì‹  ê°ì²´ ì§€ì • ëŒë‹¤: with, apply, also

- ìˆ˜ì‹  ê°ì²´ë¥¼ ëª…ì‹œí•˜ì§€ ì•Šê³  ëŒë‹¤ì˜ ë³¸ë¬¸ ì•ˆì—ì„œ ë‹¤ë¥¸ ê°ì²´ì˜ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•  ìˆ˜ ìˆê²Œ í•˜ëŠ” ê²ƒ

### ğŸ”– 5.4.1 with í•¨ìˆ˜

```kotlin
fun alphabet(): String {
    val result = StringBuilder()
    for (letter in 'A'..'Z') {
        result.append(letter)
    }
    result.append("\nNow I know the alphabet!")
    return result.toString()
}
```

- ë§¤ë²ˆ resultë¼ëŠ” ì´ë¦„ì„ ë°˜ë³µ ì‚¬ìš©

```kotlin
fun alphabet(): String {
    val stringBuilder = StringBuilder()
    return with(stringBuilder) { // ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ë ¤ëŠ” ìˆ˜ì‹  ê°ì²´ë¥¼ ì§€ì •
        for (letter in 'A'..'Z') {
            this.append(letter)
        }
        this.append("\nNow I know the alphabet!")
        this.toString()
    }
}
```

- ìœ„ ì˜ˆì‹œì˜ íŒŒë¼ë¯¸í„°ëŠ” ë‘ê°œë‹¤.
  - stringBuilderì™€ ëŒë‹¤
- with í•¨ìˆ˜ëŠ” ì²« ë²ˆì§¸ ì¸ìë¡œ ë°›ì€ ê°ì²´ë¥¼ ë‘ ë²ˆì§¸ ì¸ìë¡œ ë°›ì€ ëŒë‹¤ì˜ ìˆ˜ì‹  ê°ì²´ë¡œ ë§Œë“ ë‹¤.

```kotlin
fun alphabet(): String {
    val stringBuilder = StringBuilder()
    return with(stringBuilder) { // ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ë ¤ëŠ” ìˆ˜ì‹  ê°ì²´ë¥¼ ì§€ì •
        for (letter in 'A'..'Z') {
            append(letter)
        }
        append("\nNow I know the alphabet!")
        toString()
    }
}
```

- ëŒë‹¤ ì•ˆì—ì„œëŠ” ëª…ì‹œì ì¸ this ì°¸ì¡°ë¥¼ ì‚¬ìš©í•´ ê·¸ ìˆ˜ì‹  ê°ì²´ì— ì ‘ê·¼í•  ìˆ˜ ìˆë‹¤.
  - thisë¥¼ ì—†ì• ê³  ë©”ì„œë“œë‚˜ í”„ë¡œí¼í‹° ì´ë¦„ë§Œ ì‚¬ìš©í•´ ì ‘ê·¼ ê°€ëŠ¥

```kotlin
fun alphabet() = with(StringBuilder()) {
        for (letter in 'A'..'Z') {
            append(letter)
        }
        append("\nNow I know the alphabet!")
        toString()
}
```

- ì‹ì„ ë°”ë¡œ ë°˜í™˜

### ğŸ”– 5.4.2 apply í•¨ìˆ˜

```kotlin
fun alphabet() = StringBuilder().apply {
        for (letter in 'A'..'Z') {
            append(letter)
        }
        append("\nNow I know the alphabet!")
}.toString()
```

- applyëŠ” í•­ìƒ ìì‹ ì— ì „ë‹¬ëœ ê°ì²´(ìˆ˜ì‹  ê°ì²´)ë¥¼ ë°˜í™˜í•œë‹¤.

```kotlin
fun createViewWithCustomAttributes(context: Context) =
    TextView(context).apply {
        text = "Sample Text"
        textSize = 20.0
        setPadding(10, 0, 0, 0)
    }
```

- applyë¥¼ ê°ì²´ ì´ˆê¸°í™”ì— í™œìš©í•  ìˆ˜ ìˆë‹¤.
- javaì˜ builderì™€ ë¹„ìŠ·í•˜ë‹¤.

```kotlin
fun alphabet() = buildString {
        for (letter in 'A'..'Z') {
            append(letter)
        }
        append("\nNow I know the alphabet!")
}
```

- `buildString` í•¨ìˆ˜ëŠ” `StringBuilder`ë¥¼ í™œìš©í•´ `String`ì„ ë§Œë“œëŠ” ê²½ìš° ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ìš°ì•„í•œ í•´ë²•
- `buildList`, `buildSet`, `buildMap`

### ğŸ”– 5.4.3 ê°ì²´ì— ì¶”ê°€ ì‘ì—… ìˆ˜í–‰: also

```kotlin
fun main() {
    val fruits = listOf("Apple", "Banana", "Cherry")
    val uppercaseFruits = mutableListOf<String>()
    val reversedLongFruits = fruits
        .map { it.uppercase() }
        .also { uppercaseFruits.addAll(it) }
        .filter { it.length > 5 }
        .also { println(it) }
        .reversed()
}
```

- ìˆ˜ì‹  ê°ì²´ì— ëŒ€í•´ ì–´ë–¤ ë™ì‘ì„ ìˆ˜í–‰í•œ í›„ ìˆ˜ì‹  ê°ì²´ ë°˜í™˜
- alsoì˜ ëŒë‹¤ ì•ˆì—ì„œëŠ” ìˆ˜ì‹  ê°ì²´ë¥¼ ì¸ìë¡œ ì°¸ì¡°
  - ë””í´íŠ¸ë¡œ it
- ì›ë˜ì˜ ìˆ˜ì‹  ê°ì²´ë¥¼ ì¸ìë¡œ ë°›ëŠ” ë™ì‘ì„ ì‹¤í–‰í•  ë•Œ alsoê°€ ìœ ìš©í•˜ë‹¤.
